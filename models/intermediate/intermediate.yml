version: 2

models:
    - name: int_microsoft_ads__ad_history
      description: Each record in this table represents a version of a Microsoft ad.
      columns:
        - name: ad_id
          description: The ID of the ad.
        - name: ad_group_id
          description: The ID of the corresponding ad group.
        - name: final_url
          description: The full URL that the ad links to.
        - name: modified_timestamp
          description: The time each version record was last modified, i.e. when that version was 'created'.
        - name: ad_version_id
          description: A unique ID for the version of an ad.
          tests:
            - unique
            - not_null
        - name: is_most_recent_version
          description: A boolean field for whether the version is the most up-to-date version of the ad.
        - name: base_url
          description: The base URL of the ad, extracted from the `final_url`.
        - name: url_host
          description: The URL host of the ad, extracted from the `final_url`.
        - name: url_path
          description: The URL path of the ad, extracted from the `final_url`.
        - name: utm_source
          description: The utm_source parameter of the ad, extracted from the `final_url`.
        - name: utm_medium
          description: The utm_medium parameter of the ad, extracted from the `final_url`.
        - name: utm_campaign
          description: The utm_campaign parameter of the ad, extracted from the `final_url`.
        - name: utm_content
          description: The utm_content parameter of the ad, extracted from the `final_url`.
        - name: utm_term
          description: The utm_term parameter of the ad, extracted from the `final_url`.